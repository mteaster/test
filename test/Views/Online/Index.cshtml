@{
    ViewBag.Title = "Online";
}

@section featured 
{
    @Html.Partial("_BandHeaderPartial")
}

<p class="message-success">@ViewBag.SuccessMessage</p>
<p class="message-error">@ViewBag.ErrorMessage</p>

<section class="blarg">
    @Html.Partial("_UploadTrackPartial")
</section>

<section class="half">
    <h2>Tracks</h2>

    <div ng-app="sortable" ng-controller="SortableController" ng-init="init('/Online/GetTracks/@ViewBag.BandId')">

        <span ng-click="sort('TrackId')">Sort by track id</th>
        <span ng-click="sort('TrackName')">Sort by name</th>

        <ol class="messages">
            <li ng-repeat="track in data | orderBy : column : descending">
                <div class="post-header">  
                    <img class="post-avatar" height="50" width="50" class="photo" alt="" ng-src="{{ track.ImageUrl }}" />    
                    <div class="post-info">  
                        <span class="post-username">{{ track.TrackId }}</span><br />
                        <span class="post-time">{{ track.TrackName }}</span><br />
                    </div>
                </div>

                <div class="post-content">
                    <audio controls>
                        <source ng-src="{{ track.TrackUrl }}" type="audio/mp3" />
                        <p>Your browser does not support HTML 5 audio element</p>
                    </audio>
                </div>
            </li>
        </ol>
    </div>
</section>

@section Scripts
{
    <script type="text/javascript" src="@Url.Content("/Scripts/angular.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("/Scripts/sortable.js")"></script>
}


